---
id: section-03
title: Ignite React.js · Chapter 01 · Section 03
sidebar_label: Section 03
description: Ignite React.js by RocketSeat.
keywords:
  - Alex Bleggi
image: /static/other/img/profile.png
slug: /ignite/react-js/course/chapter-01/section-03
toc_max_heading_level: 4
hide_title: true
---

import useBaseUrl from '@docusaurus/useBaseUrl';

# Chamadas HTTP

## [Estilização da listagem](https://app.rocketseat.com.br/node/chapter-i-1/group/chamadas-http/lesson/estilizacao-da-listagem)

```scss {1-30} title="src/styles/repositories.scss"
section.repository-list {
  margin: 40px;

  h1 {
    margin-bottom: 16px;
  }

  ul {
    list-style: none;

    li {
      & + li {
        margin-top: 20px;
      }

      p {
        margin-top: 8px;
        color: #444;
        font-size: 14px;
      }

      a {
        display: inline-block;
        margin-top: 16px;
        color: #8257e6;
        text-decoration: none;
      }
    }
  }
}
```

```javascript {2} title="src/components/RepositoryList.jsx"
import { RepositoryItem } from './RepositoryItem';
import '../styles/repositories.scss';

const repository = {
  name: 'unform',
  description: 'Forms in React',
  link: 'https://github.com/unform/unform',
};

export function RepositoryList() {
  return (
    <section className="repository-list">
      <h1>Lista de repositórios</h1>
      <ul>
        <RepositoryItem repository={repository} />
        <RepositoryItem repository={repository} />
        <RepositoryItem repository={repository} />
      </ul>
    </section>
  );
}
```

## [Utilizando o useEffect](https://app.rocketseat.com.br/node/chapter-i-1/group/chamadas-http/lesson/utilizando-o-use-effect)

```javascript
// sem dependências o useEffect() executa apenas uma vez assim que o componente for exibido em tela.
useEffect(() => {}, []);
```

```javascript
// CUIDADO: sem o segundo parâmetro o useEffect() entra em loop.
useEffect(() => {});
```

```javascript
const [repositories, setRepositories] = useState([]);

// CUIDADO: utilizar o useState() da mesma variável da dependência, gera loop.
useEffect(() => {
  setRepositories()
}, [repositories]);
```

```javascript {1,12,14-18} title="src/components/RepositoryList.jsx"
import { useState, useEffect } from 'react';
import { RepositoryItem } from './RepositoryItem';
import '../styles/repositories.scss';

const repository = {
  name: 'unform',
  description: 'Forms in React.js',
  link: 'https://github.com/unform/unform',
};

export function RepositoryList() {
  const [repositories, setRepositories] = useState([]);

  useEffect(() => {
    fetch('https://api.github.com/orgs/rocketseat/repos')
      .then((response) => response.json())
      .then((data) => setRepositories(data));
  }, []);

  return (
    <section className="repository-list">
      <h1>Lista de repositórios</h1>
      <ul>
        <RepositoryItem repository={repository} />
        <RepositoryItem repository={repository} />
        <RepositoryItem repository={repository} />
      </ul>
    </section>
  );
}
```

## [Listando repositórios](https://app.rocketseat.com.br/node/chapter-i-1/group/chamadas-http/lesson/listando-repositorios-2)

Formas de renderizar jsx em loop.

```javascript
// Não devemos usar forEach pois ele não retorna.
{repositories.forEach(repository => {})}
```

```javascript
{repositories.map(repository => {
  return <RepositoryItem repository={repository} />
})}
```

```javascript
{repositories.map(repository => (
  <RepositoryItem repository={repository} />
))}
```

```javascript
{repositories.map(repository => <RepositoryItem repository={repository} />)}
```

```javascript {4,6} title="src/components/RepositoryItem.jsx"
export function RepositoryItem(props) {
  return (
    <li>
      <strong>{props.repository.name}</strong>
      <p>{props.repository.description}</p>
      <a href={props.repository.html_url}>Acessar repositório</a>
    </li>
  );
}
```

```javascript {18-20} title="src/components/RepositoryList.jsx"
import { useState, useEffect } from 'react';
import { RepositoryItem } from './RepositoryItem';
import '../styles/repositories.scss';

export function RepositoryList() {
  const [repositories, setRepositories] = useState([]);

  useEffect(() => {
    fetch('https://api.github.com/orgs/rocketseat/repos')
      .then((response) => response.json())
      .then((data) => setRepositories(data));
  }, []);

  return (
    <section className="repository-list">
      <h1>Lista de repositórios</h1>
      <ul>
        {repositories.map((repository) => (
          <RepositoryItem key={repository.name} repository={repository} />
        ))}
      </ul>
    </section>
  );
}
```
