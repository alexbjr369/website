---
id: section-06
title: JavaScript Unit Testing Â· Section 06
sidebar_label: Section 06
description: JavaScript Unit Testing by Academind on Udemy.
keywords:
  - Alex Bleggi
image: /static/other/img/profile.png
slug: /javascript-unit-testing/course/section-06
toc_max_heading_level: 4
hide_title: true
---

import useBaseUrl from '@docusaurus/useBaseUrl';

# Advanced Testing Concepts

## [Module Introduction](https://www.udemy.com/course/javascript-unit-testing-the-practical-guide/learn/lecture/31877954#overview)

## [toBe() vs toEqual()](https://www.udemy.com/course/javascript-unit-testing-the-practical-guide/learn/lecture/31877956#overview)

```javascript
it('should return an array of number values if an array of string number values is provided', () => {
  const numberValues = ['1', '2'];

  const cleanedNumbers = cleanNumbers(numberValues);

  // expect(cleanedNumbers[0]).toBe([1, 2]); // numberValues !== [1, 2] error: array as objects point to different places in memory
  expect(cleanedNumbers[0]).toEqual([1, 2]); // passed
});
```

## [The Problem With Asynchronous Code](https://www.udemy.com/course/javascript-unit-testing-the-practical-guide/learn/lecture/31877958#overview)

```javascript {1-19} title="script.js"
import jwt from 'jsonwebtoken';

export function generateToken(userEmail, doneFn) {
  jwt.sign({ email: userEmail }, 'secret123', doneFn);
}

export function generateTokenPromise(userEmail) {
  const promise = new Promise((resolve, reject) => {
    jwt.sign({ email: userEmail }, 'secret123', (error, token) => {
      if (error) {
        reject(error);
      } else {
        resolve(token);
      }
    });
  });

  return promise;
}
```

```javascript {1-10} title="script.test.js"
import { it } from 'vitest';
import { generateToken } from './script';

it('should generate a token value', (done) => {
  const testUserEmail = 'test@test.com';

  generateToken(testUserEmail, (err, token) => {
    expect(token).toBeDefined();
  });
});
```

## [Testing Asynchronous Code With Callbacks](https://www.udemy.com/course/javascript-unit-testing-the-practical-guide/learn/lecture/31877962#overview)

```javascript {5,9,11,12-14,16} title="script.test.js"
import { it } from 'vitest';
import { generateToken } from './script';

it('should generate a token value', () =>
  new Promise((done) => {
    const testUserEmail = 'test@test.com';

    generateToken(testUserEmail, (err, token) => {
      try {
        expect(token).toBeDefined();
        done();
      } catch (err) {
        done(err);
      }
    });
  }));
```

## [Testing Asynchronous Code With Promises & async / await](https://www.udemy.com/course/javascript-unit-testing-the-practical-guide/learn/lecture/31877964#overview)
