---
id: section-07
title: The Complete Guide To Angular Â· Section 07
sidebar_label: Section 07
description: The Complete Guide To Angular by Academind on Udemy.
keywords:
  - Alex Bleggi
image: /static/other/img/profile.png
slug: /the-complete-guide-to-angular/course/section-07
toc_max_heading_level: 4
hide_title: true
---

import useBaseUrl from '@docusaurus/useBaseUrl';

# Directives Deep Dive

## [Module Introduction](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656162#overview)

## [ngFor and ngIf Recap](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656164#overview)

```typescript {10,11} title="src/app/app.component.ts"
import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.scss'],
})
export class AppComponent {
  numbers = [1, 2, 3, 4, 5];
  oddNumbers = [1, 3, 5];
  evenNumbers = [2, 4];
  onlyOdd = false;
}
```

```html {9-13,14-18} title="src/app/app.component.html"
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <button class="btn btn-primary" (click)="onlyOdd = !onlyOdd">
        Only show odd numbers
      </button>
      <br /><br />
      <ul class="list-group">
        <div *ngIf="onlyOdd">
          <li class="list-group-item" *ngFor="let odd of oddNumbers">
            {{ odd }}
          </li>
        </div>
        <div *ngIf="!onlyOdd">
          <li class="list-group-item" *ngFor="let even of evenNumbers">
            {{ even }}
          </li>
        </div>
      </ul>
    </div>
  </div>
</div>
```

## [ngClass and ngStyle Recap](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656166#overview)

```html {13,14-16,25,26-28} title="src/app/app.component.html"
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <button class="btn btn-primary" (click)="onlyOdd = !onlyOdd">
        Only show odd numbers
      </button>
      <br /><br />
      <ul class="list-group">
        <div *ngIf="onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let odd of oddNumbers"
            [ngClass]="{ odd: odd % 2 !== 0 }"
            [ngStyle]="{
              'background-color': odd % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ odd }}
          </li>
        </div>
        <div *ngIf="!onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let even of evenNumbers"
            [ngClass]="{ odd: even % 2 !== 0 }"
            [ngStyle]="{
              'background-color': even % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ even }}
          </li>
        </div>
      </ul>
    </div>
  </div>
</div>
```

```scss {5-7} title="src/app/app.component.scss"
.container {
  margin-top: 30px;
}

.odd {
  color: red;
}
```

## [Creating a Basic Attribute Directive](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/13193718#overview)

```bash
# npm
npx ng generate directive basic-highlight/basic-highlight

# yarn
yarn ng generate directive basic-highlight/basic-highlight
```

```typescript {1,7,9-11} title="src/app/basic-highlight/basic-highlight.directive.ts"
import { Directive, ElementRef, OnInit } from '@angular/core';

@Directive({
  selector: '[appBasicHighlight]',
})
export class BasicHighlightDirective implements OnInit {
  constructor(private elementRef: ElementRef) {}

  ngOnInit(): void {
    this.elementRef.nativeElement.style.backgroundColor = 'green';
  }
}
```

```typescript {6,9} title="src/app/app.module.ts"
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';

import { AppRoutingModule } from './app-routing.module';
import { AppComponent } from './app.component';
import { BasicHighlightDirective } from './basic-highlight/basic-highlight.directive';

@NgModule({
  declarations: [AppComponent, BasicHighlightDirective],
  imports: [BrowserModule, AppRoutingModule],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}
```

```html {34} title="src/app/app.component.html"
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <button class="btn btn-primary" (click)="onlyOdd = !onlyOdd">
        Only show odd numbers
      </button>
      <br /><br />
      <ul class="list-group">
        <div *ngIf="onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let odd of oddNumbers"
            [ngClass]="{ odd: odd % 2 !== 0 }"
            [ngStyle]="{
              'background-color': odd % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ odd }}
          </li>
        </div>
        <div *ngIf="!onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let even of evenNumbers"
            [ngClass]="{ odd: even % 2 !== 0 }"
            [ngStyle]="{
              'background-color': even % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ even }}
          </li>
        </div>
      </ul>
      <p appBasicHighlight>Style me with a basic directive</p>
    </div>
  </div>
</div>
```

## [Using the Renderer to build a Better Attribute Directive](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656172#overview)

```bash
# npm
npx ng g d better-highlight/better-highlight

# yarn
yarn ng g d better-highlight/better-highlight
```

```typescript {1,7,9-15} title="src/app/basic-highlight/basic-highlight.directive.ts"
import { Directive, ElementRef, OnInit, Renderer2 } from '@angular/core';

@Directive({
  selector: '[appBetterHighlight]',
})
export class BetterHighlightDirective implements OnInit {
  constructor(private elementRef: ElementRef, private renderer: Renderer2) {}

  ngOnInit(): void {
    this.renderer.setStyle(
      this.elementRef.nativeElement,
      'background-color',
      'blue'
    );
  }
}
```

```typescript {7,10} title="src/app/app.module.ts"
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';

import { AppRoutingModule } from './app-routing.module';
import { AppComponent } from './app.component';
import { BasicHighlightDirective } from './basic-highlight/basic-highlight.directive';
import { BetterHighlightDirective } from './better-highlight/better-highlight.directive';

@NgModule({
  declarations: [AppComponent, BasicHighlightDirective, BetterHighlightDirective],
  imports: [BrowserModule, AppRoutingModule],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}
```

```html {35} title="src/app/app.component.html"
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <button class="btn btn-primary" (click)="onlyOdd = !onlyOdd">
        Only show odd numbers
      </button>
      <br /><br />
      <ul class="list-group">
        <div *ngIf="onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let odd of oddNumbers"
            [ngClass]="{ odd: odd % 2 !== 0 }"
            [ngStyle]="{
              'background-color': odd % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ odd }}
          </li>
        </div>
        <div *ngIf="!onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let even of evenNumbers"
            [ngClass]="{ odd: even % 2 !== 0 }"
            [ngStyle]="{
              'background-color': even % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ even }}
          </li>
        </div>
      </ul>
      <p appBasicHighlight>Style me with a basic directive</p>
      <p appBetterHighlight>Style me with a better directive</p>
    </div>
  </div>
</div>
```

## [More about the Renderer](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6730946#overview)

## [Using HostListener to Listen to Host Events](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656176#overview)

```typescript {4,17-23,25-31} title="src/app/basic-highlight/basic-highlight.directive.ts"
import {
  Directive,
  ElementRef,
  HostListener,
  OnInit,
  Renderer2,
} from '@angular/core';

@Directive({
  selector: '[appBetterHighlight]',
})
export class BetterHighlightDirective implements OnInit {
  constructor(private elementRef: ElementRef, private renderer: Renderer2) {}

  ngOnInit(): void {}

  @HostListener('mouseenter') mouseover() {
    this.renderer.setStyle(
      this.elementRef.nativeElement,
      'background-color',
      'blue'
    );
  }

  @HostListener('mouseleave') mouseleave() {
    this.renderer.setStyle(
      this.elementRef.nativeElement,
      'background-color',
      'transparent'
    );
  }
}
```

## [Using HostBinding to Bind to Host Properties](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656178#overview)

```typescript {3,12,19,23} title="src/app/basic-highlight/basic-highlight.directive.ts"
import {
  Directive,
  HostBinding,
  HostListener,
  OnInit,
} from '@angular/core';

@Directive({
  selector: '[appBetterHighlight]',
})
export class BetterHighlightDirective implements OnInit {
  @HostBinding('style.backgroundColor') backgroundColor = 'transparent';

  constructor() {}

  ngOnInit(): void {}

  @HostListener('mouseenter') mouseover() {
    this.backgroundColor = 'blue';
  }

  @HostListener('mouseleave') mouseleave() {
    this.backgroundColor = 'transparent';
  }
}
```

## [Binding to Directive Properties](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656180#overview)

```typescript {5,13,14,16,21,25,29} title="src/app/basic-highlight/basic-highlight.directive.ts"
import {
  Directive,
  HostBinding,
  HostListener,
  Input,
  OnInit,
} from '@angular/core';

@Directive({
  selector: '[appBetterHighlight]',
})
export class BetterHighlightDirective implements OnInit {
  @Input() defaultColor = 'transparent';
  @Input() highlightColor = 'blue';

  @HostBinding('style.backgroundColor') backgroundColor!: string;

  constructor() {}

  ngOnInit(): void {
    this.backgroundColor = this.defaultColor;
  }

  @HostListener('mouseenter') mouseover() {
    this.backgroundColor = this.highlightColor;
  }

  @HostListener('mouseleave') mouseleave() {
    this.backgroundColor = this.defaultColor;
  }
}
```

## [What Happens behind the Scenes on Structural Directives](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656182#overview)

```html {21-34} title="src/app/app.component.html"
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <button class="btn btn-primary" (click)="onlyOdd = !onlyOdd">
        Only show odd numbers
      </button>
      <br /><br />
      <ul class="list-group">
        <div *ngIf="onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let odd of oddNumbers"
            [ngClass]="{ odd: odd % 2 !== 0 }"
            [ngStyle]="{
              'background-color': odd % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ odd }}
          </li>
        </div>
        <ng-template [ngIf]="!onlyOdd">
          <div>
            <li
              class="list-group-item"
              *ngFor="let even of evenNumbers"
              [ngClass]="{ odd: even % 2 !== 0 }"
              [ngStyle]="{
                'background-color': even % 2 !== 0 ? 'yellow' : 'transparent'
              }"
            >
              {{ even }}
            </li>
          </div>
        </ng-template>
      </ul>
      <p appBasicHighlight>Style me with a basic directive</p>
      <p appBetterHighlight [defaultColor]="'yellow'" [highlightColor]="'red'">
        Style me with a better directive
      </p>
    </div>
  </div>
</div>
```

## [Building a Structural Directive](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656186#overview)

```bash
# npm
npx ng g d unless/unless

# yarn
yarn ng g d unless/unless
```

```typescript {1,7-13,16,17} title="src/app/basic-highlight/basic-highlight.directive.ts"
import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';

@Directive({
  selector: '[appUnless]',
})
export class UnlessDirective {
  @Input() set appUnless(condition: boolean) {
    if (!condition) {
      this.viewContainerRef.createEmbeddedView(this.templateRef);
    } else {
      this.viewContainerRef.clear();
    }
  }

  constructor(
    private templateRef: TemplateRef<any>,
    private viewContainerRef: ViewContainerRef
  ) {}
}
```

```typescript {8,11} title="src/app/app.module.ts"
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';

import { AppRoutingModule } from './app-routing.module';
import { AppComponent } from './app.component';
import { BasicHighlightDirective } from './basic-highlight/basic-highlight.directive';
import { BetterHighlightDirective } from './better-highlight/better-highlight.directive';
import { UnlessDirective } from './unless/unless.directive';

@NgModule({
  declarations: [AppComponent, BasicHighlightDirective, BetterHighlightDirective, UnlessDirective],
  imports: [BrowserModule, AppRoutingModule],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}
```

```html {21} title="src/app/app.component.html"
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <button class="btn btn-primary" (click)="onlyOdd = !onlyOdd">
        Only show odd numbers
      </button>
      <br /><br />
      <ul class="list-group">
        <div *ngIf="onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let odd of oddNumbers"
            [ngClass]="{ odd: odd % 2 !== 0 }"
            [ngStyle]="{
              'background-color': odd % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ odd }}
          </li>
        </div>
        <div *appUnless="onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let even of evenNumbers"
            [ngClass]="{ odd: even % 2 !== 0 }"
            [ngStyle]="{
              'background-color': even % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ even }}
          </li>
        </div>
      </ul>
      <p appBasicHighlight>Style me with a basic directive</p>
      <p appBetterHighlight [defaultColor]="'yellow'" [highlightColor]="'red'">
        Style me with a better directive
      </p>
    </div>
  </div>
</div>
```

## [Understanding ngSwitch](https://www.udemy.com/course/the-complete-guide-to-angular-2/learn/lecture/6656188#overview)

```typescript {13} title="src/app/app.component.ts"
import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.scss'],
})
export class AppComponent {
  numbers = [1, 2, 3, 4, 5];
  oddNumbers = [1, 3, 5];
  evenNumbers = [2, 4];
  onlyOdd = false;
  value = 10;
}
```

```html {38-43} title="src/app/app.component.html"
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <button class="btn btn-primary" (click)="onlyOdd = !onlyOdd">
        Only show odd numbers
      </button>
      <br /><br />
      <ul class="list-group">
        <div *ngIf="onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let odd of oddNumbers"
            [ngClass]="{ odd: odd % 2 !== 0 }"
            [ngStyle]="{
              'background-color': odd % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ odd }}
          </li>
        </div>
        <div *appUnless="onlyOdd">
          <li
            class="list-group-item"
            *ngFor="let even of evenNumbers"
            [ngClass]="{ odd: even % 2 !== 0 }"
            [ngStyle]="{
              'background-color': even % 2 !== 0 ? 'yellow' : 'transparent'
            }"
          >
            {{ even }}
          </li>
        </div>
      </ul>
      <p appBasicHighlight>Style me with a basic directive</p>
      <p appBetterHighlight [defaultColor]="'yellow'" [highlightColor]="'red'">
        Style me with a better directive
      </p>
      <div [ngSwitch]="value">
        <p *ngSwitchCase="5">Value is 5</p>
        <p *ngSwitchCase="10">Value is 10</p>
        <p *ngSwitchCase="100">Value is 100</p>
        <p *ngSwitchDefault>Value is Default</p>
      </div>
    </div>
  </div>
</div>
```
