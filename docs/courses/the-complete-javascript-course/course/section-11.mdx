---
id: section-11
title: The Complete JavaScript Course · Section 11
sidebar_label: Section 11
description: The Complete JavaScript Course by Jonas Schmedtmann on Udemy.
keywords:
  - Alex Bleggi
image: /static/other/img/profile.png
slug: /the-complete-javascript-course/course/section-11
toc_max_heading_level: 4
hide_title: true
---

import useBaseUrl from "@docusaurus/useBaseUrl";

# Working With Arrays

## [Section Intro](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648701#overview)

## [Section Roadmap](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22663727#overview)

## [Simple Array Methods](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648703#overview)

**slice()**

The slice method extracts part of an array and returns a new array, it doesn't **mutate** the original array.

```js title="script.js"
'use strict';

let arr = ['a', 'b', 'c', 'd', 'e'];

console.log(arr.slice(2)); // result: ['c', 'd', 'e']
console.log(arr.slice(2,4)); // result: ['c', 'd']
console.log(arr.slice(-1)); // result: ['e']
console.log(arr.slice(-2)); // result: ['d', 'e']
console.log(arr.slice(1, -2)); // result: ['b', 'c']
```

It is possible create a shallow copy of an array.

```js title="script.js"
'use strict';

let arr = ['a', 'b', 'c', 'd', 'e'];

console.log(arr.slice()); // result: ['a', 'b', 'c', 'd', 'e']
```

**splice()**

The splice method extracts part of an array but **mutates** the original array.

```js title="script.js"
'use strict';

const arr = ['a', 'b', 'c', 'd', 'e'];

console.log(arr.splice(2)); // result: ['c', 'd', 'e']
console.log(arr); // result: ['a', 'b']
```

```js title="script.js"
'use strict';

const arr = ['a', 'b', 'c', 'd', 'e'];

// second parameter is the deleteCount
arr.splice(1, 2);
console.log(arr); // result: ['a', 'd', 'e']
```

When using the splice method, usually what is interesting is the removing of one ore more elements of the original array.
In the example we remove the last element of the array.

```js title="script.js"
'use strict';

const arr = ['a', 'b', 'c', 'd', 'e'];

arr.splice(-1);
console.log(arr); // result: ['a', 'b', 'c', 'd']
```

**reverse()**

The reverse method **mutates** the original array.

```js title="script.js"
'use strict';

const arr = ['a', 'b', 'c', 'd', 'e'];
const arr2 = ['j', 'i', 'h', 'g', 'f'];

console.log(arr2.reverse()); // result: ['f', 'g', 'h', 'i', 'j']
console.log(arr2); // result: ['f', 'g', 'h', 'i', 'j']
```

**concat()**

```js title="script.js"
'use strict';

const arr = ['a', 'b', 'c', 'd', 'e'];
const arr2 = ['j', 'i', 'h', 'g', 'f'];

const letters = arr.concat(arr2);
console.log(letters); // result: ['a', 'b', 'c', 'd', 'f', 'g', 'h', 'i', 'j']
```

**join()**

The join method returns a string.

```js title="script.js"
'use strict';

const arr = ['a', 'b', 'c', 'd', 'e'];
const arr2 = ['j', 'i', 'h', 'g', 'f'];

const letters = arr.concat(arr2);
console.log(letters.join(' - ')); // result: 'a - b - c - d - e - j - i - h - g - f'
```

## [The new at Method](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/29433412#overview)

**ES2022**

```js title="script.js"
'use strict';

const arr = [23, 11, 64];
console.log(arr[0]); // result: 23
console.log(arr.at(0)); // result: 23

// getting the last element without knowing the array length
console.log(arr[arr.length - 1]); // result: 64
console.log(arr.slice(-1)[0]); // result: 64
console.log(arr.at(-1)); // result: 64

console.log('john'.at(-1)); // result: 'n'
```

## [Looping Arrays: forEach](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648707#overview)

**forOf Loop**

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

for (const movement of movements) {
  if (movement > 0) {
    console.log(`You deposited ${movement}`);
  } else {
    console.log(`You withdrew ${Math.abs(movement)}`);
  }
}

// result:
// You deposited 200
// You deposited 450
// You withdrew 400
// You deposited 3000
// You withdrew 650
// You withdrew 130
// You deposited 70
// You deposited 1300
```

To retrieve the index of the iteration:

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

for (const [i, movement] of movements.entries()) {
  if (movement > 0) {
    console.log(`Movement ${i + 1}: You deposited ${movement}`);
  } else {
    console.log(`Movement ${i + 1}: You withdrew ${Math.abs(movement)}`);
  }
}

// result:
// Movement 1: You deposited 200
// Movement 2: You deposited 450
// Movement 3: You withdrew 400
// Movement 4: You deposited 3000
// Movement 5: You withdrew 650
// Movement 6: You withdrew 130
// Movement 7: You deposited 70
// Movement 8: You deposited 1300
```

**forEach Loop**

In each iteration, the forEach method will call the callback function and will pass in the current element of the array as an argument.

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

movements.forEach(function(movement) {
  if (movement > 0) {
    console.log(`You deposited ${movement}`);
  } else {
    console.log(`You withdrew ${Math.abs(movement)}`);
  }
});

// result:
// You deposited 200
// You deposited 450
// You withdrew 400
// You deposited 3000
// You withdrew 650
// You withdrew 130
// You deposited 70
// You deposited 1300
```

To retrieve the index of the iteration and the entire array:

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

movements.forEach(function(movement, index, array) {
  if (movement > 0) {
    console.log(`Movement ${index + 1}: You deposited ${movement}`);
  } else {
    console.log(`Movement ${index + 1}: You withdrew ${Math.abs(movement)}`);
  }
});

// result:
// Movement 1: You deposited 200
// Movement 2: You deposited 450
// Movement 3: You withdrew 400
// Movement 4: You deposited 3000
// Movement 5: You withdrew 650
// Movement 6: You withdrew 130
// Movement 7: You deposited 70
// Movement 8: You deposited 1300
```

**continue** and **break** don't work with the **forEach** loop.

## [forEach With Maps and Sets](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648709#overview)

**map**

```js title="script.js"
'use strict';

const currencies = new Map([
  ['USD', 'United States dollar'],
  ['EUR', 'Euro'],
  ['GBP', 'Pound sterling'],
]);

currencies.forEach(function(value, key, map) {
  console.log(`${key}: ${value}`);
});

// result:
// USD: United States dollar
// EUR: Euro
// GBP: Pound sterling
```

**set**

```js title="script.js"
'use strict';

const currenciesUnique = new Set(['USD', 'GBP', 'USD', 'EUR', 'EUR']);

console.log(currenciesUnique); // result: Set(3) {'USD', 'GBP', 'EUR'}

currenciesUnique.forEach(function(value, key, map) {
  // console.log(`${key}: ${value}`); // A set doesn't have keys.

  console.log(`${value}: ${value}`);
});

// result:
// USD: USD
// GBP: GBP
// EUR: EUR
```

## [Project: "Bankist" App](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648713#overview)

<img src={useBaseUrl("img/notes/javascript/flowchart-02.png")} alt="Bankist Flowchart"/>

```html title="index.html"
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="shortcut icon" type="image/png" href="/icon.png" />
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <title>Bankist</title>
</head>

<body>

  <nav>
    <p class="welcome">Log in to get started</p>
    <img src="logo.png" alt="Logo" class="logo" />
    <form class="login">
      <input type="text" placeholder="user" class="login__input login__input--user" />
      <input type="text" placeholder="PIN" maxlength="4" class="login__input login__input--pin" />
      <button class="login__btn">&rarr;</button>
    </form>
  </nav>

  <main class="app">

    <div class="balance">
      <div>
        <p class="balance__label">Current balance</p>
        <p class="balance__date">
          As of <span class="date">05/03/2037</span>
        </p>
      </div>
      <p class="balance__value">0000€</p>
    </div>

    <div class="movements">
      <div class="movements__row">
        <div class="movements__type movements__type--deposit">2 deposit</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">4 000€</div>
      </div>
      <div class="movements__row">
        <div class="movements__type movements__type--withdrawal">
          1 withdrawal
        </div>
        <div class="movements__date">24/01/2037</div>
        <div class="movements__value">-378€</div>
      </div>
    </div>

    <div class="summary">
      <p class="summary__label">In</p>
      <p class="summary__value summary__value--in">0000€</p>
      <p class="summary__label">Out</p>
      <p class="summary__value summary__value--out">0000€</p>
      <p class="summary__label">Interest</p>
      <p class="summary__value summary__value--interest">0000€</p>
      <button class="btn--sort">&downarrow; SORT</button>
    </div>

    <div class="operation operation--transfer">
      <h2>Transfer money</h2>
      <form class="form form--transfer">
        <input type="text" class="form__input form__input--to" />
        <input type="number" class="form__input form__input--amount" />
        <button class="form__btn form__btn--transfer">&rarr;</button>
        <label class="form__label">Transfer to</label>
        <label class="form__label">Amount</label>
      </form>
    </div>

    <div class="operation operation--loan">
      <h2>Request loan</h2>
      <form class="form form--loan">
        <input type="number" class="form__input form__input--loan-amount" />
        <button class="form__btn form__btn--loan">&rarr;</button>
        <label class="form__label form__label--loan">Amount</label>
      </form>
    </div>

    <div class="operation operation--close">
      <h2>Close account</h2>
      <form class="form form--close">
        <input type="text" class="form__input form__input--user" />
        <input type="password" maxlength="6" class="form__input form__input--pin" />
        <button class="form__btn form__btn--close">&rarr;</button>
        <label class="form__label">Confirm user</label>
        <label class="form__label">Confirm PIN</label>
      </form>
    </div>

    <p class="logout-timer">
      You will be logged out in <span class="timer">05:00</span>
    </p>
  </main>

  <script src="script.js"></script>
</body>

</html>
```

```css {88} title="style.css"
* {
  margin: 0;
  padding: 0;
  box-sizing: inherit;
}

html {
  font-size: 62.5%;
  box-sizing: border-box;
}

body {
  font-family: "Poppins", sans-serif;
  color: #444;
  background-color: #f3f3f3;
  height: 100vh;
  padding: 2rem;
}

nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 2rem;
}

.welcome {
  font-size: 1.9rem;
  font-weight: 500;
}

.logo {
  height: 5.25rem;
}

.login {
  display: flex;
}

.login__input {
  border: none;
  padding: 0.5rem 2rem;
  font-size: 1.6rem;
  font-family: inherit;
  text-align: center;
  width: 12rem;
  border-radius: 10rem;
  margin-right: 1rem;
  color: inherit;
  border: 1px solid #fff;
  transition: all 0.3s;
}

.login__input:focus {
  outline: none;
  border: 1px solid #ccc;
}

.login__input::placeholder {
  color: #bbb;
}

.login__btn {
  border: none;
  background: none;
  font-size: 2.2rem;
  color: inherit;
  cursor: pointer;
  transition: all 0.3s;
}

.login__btn:hover,
.login__btn:focus,
.btn--sort:hover,
.btn--sort:focus {
  outline: none;
  color: #777;
}

.app {
  position: relative;
  max-width: 100rem;
  margin: 4rem auto;
  display: grid;
  grid-template-columns: 4fr 3fr;
  grid-template-rows: auto repeat(3, 15rem) auto;
  gap: 2rem;
  opacity: 0;
  transition: all 1s;
}

.balance {
  grid-column: 1 / span 2;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  margin-bottom: 2rem;
}

.balance__label {
  font-size: 2.2rem;
  font-weight: 500;
  margin-bottom: -0.2rem;
}

.balance__date {
  font-size: 1.4rem;
  color: #888;
}

.balance__value {
  font-size: 4.5rem;
  font-weight: 400;
}

.movements {
  grid-row: 2 / span 3;
  background-color: #fff;
  border-radius: 1rem;
  overflow: scroll;
}

.movements__row {
  padding: 2.25rem 4rem;
  display: flex;
  align-items: center;
  border-bottom: 1px solid #eee;
}

.movements__type {
  font-size: 1.1rem;
  text-transform: uppercase;
  font-weight: 500;
  color: #fff;
  padding: 0.1rem 1rem;
  border-radius: 10rem;
  margin-right: 2rem;
}

.movements__date {
  font-size: 1.1rem;
  text-transform: uppercase;
  font-weight: 500;
  color: #666;
}

.movements__type--deposit {
  background-image: linear-gradient(to top left, #39b385, #9be15d);
}

.movements__type--withdrawal {
  background-image: linear-gradient(to top left, #e52a5a, #ff585f);
}

.movements__value {
  font-size: 1.7rem;
  margin-left: auto;
}

.summary {
  grid-row: 5 / 6;
  display: flex;
  align-items: baseline;
  padding: 0 0.3rem;
  margin-top: 1rem;
}

.summary__label {
  font-size: 1.2rem;
  font-weight: 500;
  text-transform: uppercase;
  margin-right: 0.8rem;
}

.summary__value {
  font-size: 2.2rem;
  margin-right: 2.5rem;
}

.summary__value--in,
.summary__value--interest {
  color: #66c873;
}

.summary__value--out {
  color: #f5465d;
}

.btn--sort {
  margin-left: auto;
  border: none;
  background: none;
  font-size: 1.3rem;
  font-weight: 500;
  cursor: pointer;
}

.operation {
  border-radius: 1rem;
  padding: 3rem 4rem;
  color: #333;
}

.operation--transfer {
  background-image: linear-gradient(to top left, #ffb003, #ffcb03);
}

.operation--loan {
  background-image: linear-gradient(to top left, #39b385, #9be15d);
}

.operation--close {
  background-image: linear-gradient(to top left, #e52a5a, #ff585f);
}

h2 {
  margin-bottom: 1.5rem;
  font-size: 1.7rem;
  font-weight: 600;
  color: #333;
}

.form {
  display: grid;
  grid-template-columns: 2.5fr 2.5fr 1fr;
  grid-template-rows: auto auto;
  gap: 0.4rem 1rem;
}

.form.form--loan {
  grid-template-columns: 2.5fr 1fr 2.5fr;
}

.form__label--loan {
  grid-row: 2;
}

.form__input {
  width: 100%;
  border: none;
  background-color: rgba(255, 255, 255, 0.4);
  font-family: inherit;
  font-size: 1.5rem;
  text-align: center;
  color: #333;
  padding: 0.3rem 1rem;
  border-radius: 0.7rem;
  transition: all 0.3s;
}

.form__input:focus {
  outline: none;
  background-color: rgba(255, 255, 255, 0.6);
}

.form__label {
  font-size: 1.3rem;
  text-align: center;
}

.form__btn {
  border: none;
  border-radius: 0.7rem;
  font-size: 1.8rem;
  background-color: #fff;
  cursor: pointer;
  transition: all 0.3s;
}

.form__btn:focus {
  outline: none;
  background-color: rgba(255, 255, 255, 0.8);
}

.logout-timer {
  padding: 0 0.3rem;
  margin-top: 1.9rem;
  text-align: right;
  font-size: 1.25rem;
}

.timer {
  font-weight: 600;
}
```

```js title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');
```

## [Creating DOM Elements](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648719#overview)

```css {88} title="style.css"
* {
  margin: 0;
  padding: 0;
  box-sizing: inherit;
}

html {
  font-size: 62.5%;
  box-sizing: border-box;
}

body {
  font-family: "Poppins", sans-serif;
  color: #444;
  background-color: #f3f3f3;
  height: 100vh;
  padding: 2rem;
}

nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 2rem;
}

.welcome {
  font-size: 1.9rem;
  font-weight: 500;
}

.logo {
  height: 5.25rem;
}

.login {
  display: flex;
}

.login__input {
  border: none;
  padding: 0.5rem 2rem;
  font-size: 1.6rem;
  font-family: inherit;
  text-align: center;
  width: 12rem;
  border-radius: 10rem;
  margin-right: 1rem;
  color: inherit;
  border: 1px solid #fff;
  transition: all 0.3s;
}

.login__input:focus {
  outline: none;
  border: 1px solid #ccc;
}

.login__input::placeholder {
  color: #bbb;
}

.login__btn {
  border: none;
  background: none;
  font-size: 2.2rem;
  color: inherit;
  cursor: pointer;
  transition: all 0.3s;
}

.login__btn:hover,
.login__btn:focus,
.btn--sort:hover,
.btn--sort:focus {
  outline: none;
  color: #777;
}

.app {
  position: relative;
  max-width: 100rem;
  margin: 4rem auto;
  display: grid;
  grid-template-columns: 4fr 3fr;
  grid-template-rows: auto repeat(3, 15rem) auto;
  gap: 2rem;
  /* opacity: 0; */
  transition: all 1s;
}

.balance {
  grid-column: 1 / span 2;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  margin-bottom: 2rem;
}

.balance__label {
  font-size: 2.2rem;
  font-weight: 500;
  margin-bottom: -0.2rem;
}

.balance__date {
  font-size: 1.4rem;
  color: #888;
}

.balance__value {
  font-size: 4.5rem;
  font-weight: 400;
}

.movements {
  grid-row: 2 / span 3;
  background-color: #fff;
  border-radius: 1rem;
  overflow: scroll;
}

.movements__row {
  padding: 2.25rem 4rem;
  display: flex;
  align-items: center;
  border-bottom: 1px solid #eee;
}

.movements__type {
  font-size: 1.1rem;
  text-transform: uppercase;
  font-weight: 500;
  color: #fff;
  padding: 0.1rem 1rem;
  border-radius: 10rem;
  margin-right: 2rem;
}

.movements__date {
  font-size: 1.1rem;
  text-transform: uppercase;
  font-weight: 500;
  color: #666;
}

.movements__type--deposit {
  background-image: linear-gradient(to top left, #39b385, #9be15d);
}

.movements__type--withdrawal {
  background-image: linear-gradient(to top left, #e52a5a, #ff585f);
}

.movements__value {
  font-size: 1.7rem;
  margin-left: auto;
}

.summary {
  grid-row: 5 / 6;
  display: flex;
  align-items: baseline;
  padding: 0 0.3rem;
  margin-top: 1rem;
}

.summary__label {
  font-size: 1.2rem;
  font-weight: 500;
  text-transform: uppercase;
  margin-right: 0.8rem;
}

.summary__value {
  font-size: 2.2rem;
  margin-right: 2.5rem;
}

.summary__value--in,
.summary__value--interest {
  color: #66c873;
}

.summary__value--out {
  color: #f5465d;
}

.btn--sort {
  margin-left: auto;
  border: none;
  background: none;
  font-size: 1.3rem;
  font-weight: 500;
  cursor: pointer;
}

.operation {
  border-radius: 1rem;
  padding: 3rem 4rem;
  color: #333;
}

.operation--transfer {
  background-image: linear-gradient(to top left, #ffb003, #ffcb03);
}

.operation--loan {
  background-image: linear-gradient(to top left, #39b385, #9be15d);
}

.operation--close {
  background-image: linear-gradient(to top left, #e52a5a, #ff585f);
}

h2 {
  margin-bottom: 1.5rem;
  font-size: 1.7rem;
  font-weight: 600;
  color: #333;
}

.form {
  display: grid;
  grid-template-columns: 2.5fr 2.5fr 1fr;
  grid-template-rows: auto auto;
  gap: 0.4rem 1rem;
}

.form.form--loan {
  grid-template-columns: 2.5fr 1fr 2.5fr;
}

.form__label--loan {
  grid-row: 2;
}

.form__input {
  width: 100%;
  border: none;
  background-color: rgba(255, 255, 255, 0.4);
  font-family: inherit;
  font-size: 1.5rem;
  text-align: center;
  color: #333;
  padding: 0.3rem 1rem;
  border-radius: 0.7rem;
  transition: all 0.3s;
}

.form__input:focus {
  outline: none;
  background-color: rgba(255, 255, 255, 0.6);
}

.form__label {
  font-size: 1.3rem;
  text-align: center;
}

.form__btn {
  border: none;
  border-radius: 0.7rem;
  font-size: 1.8rem;
  background-color: #fff;
  cursor: pointer;
  transition: all 0.3s;
}

.form__btn:focus {
  outline: none;
  background-color: rgba(255, 255, 255, 0.8);
}

.logout-timer {
  padding: 0 0.3rem;
  margin-top: 1.9rem;
  text-align: right;
  font-size: 1.25rem;
}

.timer {
  font-weight: 600;
}
```

```js {60-78,80} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');

const displayMovements = function(movements) {
  // cleaning the container movements '<div class="movements"></div>'
  containerMovements.innerHTML = '';

  movements.forEach(function(movement, index) {
    const type = movement > 0 ? 'deposit' : 'withdrawal';

    const html = `
      <div class="movements__row">
        <div class="movements__type movements__type--${type}">${index + 1} ${type}</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">${movement} </div>
      </div>
    `;

    // rendering the content in the container movements '<div class="movements"></div>'
    containerMovements.insertAdjacentHTML('afterbegin', html);
  })
};

displayMovements(account1.movements);
```

## [Coding Challenge #1](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648723#overview)

```js title="code-challenge-01.js"
// Julia and Kate are doing a study on dogs. So each of them asked 5 dog owners about their dog's age, and stored the data into an array (one array for each). For now, they are just interested in knowing whether a dog is an adult or a puppy. A dog is an adult if it is at least 3 years old, and it's a puppy if it's less than 3 years old.
// Create a function 'checkDogs', which accepts 2 arrays of dog's ages ('dogsJulia' and 'dogsKate'), and does the following things:

// 1. Julia found out that the owners of the FIRST and the LAST TWO dogs actually have cats, not dogs! So create a shallow copy of Julia's array, and remove the cat ages from that copied array (because it's a bad practice to mutate function parameters).
// 2. Create an array with both Julia's (corrected) and Kate's data.
// 3. For each remaining dog, log to the console whether it's an adult ("Dog number 1 is an adult, and is 5 years old") or a puppy ("Dog number 2 is still a puppy 🐶").
// 4. Run the function for both test datasets

// Hint:
// Use tools from all lectures in this section so far.

// Test data:
// - Data 1: Julia's data [3, 5, 2, 12, 7], Kate's data [4, 1, 15, 8, 3]
// - Data 2: Julia's data [9, 16, 6, 8, 3], Kate's data [10, 5, 6, 1, 4]

const checkDogs = function (dogsJulia, dogsKate) {
  const dogsJuliaCorrected = dogsJulia.slice();

  dogsJuliaCorrected.splice(0, 1);
  dogsJuliaCorrected.splice(-2);

  const dogs = dogsJuliaCorrected.concat(dogsKate);

  dogs.forEach(function (dog, index) {
    if (dog >= 3) {
      console.log(`Dog number ${index + 1} is an adult, and is ${dog} years old`);
    } else {
      console.log(`Dog number ${index + 1} is still a puppy 🐶`);
    }
  });
};

// Data 1:
// checkDogs([3, 5, 2, 12, 7], [4, 1, 15, 8, 3]);

// Data 2:
checkDogs([9, 16, 6, 8, 3], [10, 5, 6, 1, 4]);
```

## [Data Transformations: map, filter, reduce](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648727#overview)

**map**

Returns a **new array** containing the results of applying an operation on all original array elements.

**filter**

Returns a **new array** containing the array elements that passed a specif **test condition**.

**reduce**

Reduce all array elements down to one single value. It will not return a **new array**.

## [The map Method](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648731#overview)

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];
const eurToUsd = 2;

const movementsUsd = movements.map(function(movement, index, array) {
  return movement * eurToUsd;
});

console.log(movements); // result: [200, 450, -400, 3000, -650, -130, 70, 1300]
console.log(movementsUsd); // result: [400, 900, -800, 6000, -1300, -260, 140, 2600]
```

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];
const eurToUsd = 2;

const movementsUsd = movements.map(movement => movement * eurToUsd);

console.log(movements); // result: [200, 450, -400, 3000, -650, -130, 70, 1300]
console.log(movementsUsd); // result: [400, 900, -800, 6000, -1300, -260, 140, 2600]
```

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

const movementsDescriptions = movements.map(movement, index) => {
  if (movement > 0) {
    return `Movement ${index + 1}: You deposited ${movement}`;
  } else {
    return `Movement ${index + 1}: You withdrew ${Math.abs(movement)}`;
  }
};

console.log(movementsDescriptions);

// result: [ 'Movement 1: You deposited 200', 'Movement 2: You deposited 450', 'Movement 3: You withdrew 400', 'Movement 4: You deposited 3000', 'Movement 5: You withdrew 650', 'Movement 6: You withdrew 130', 'Movement 7: You deposited 70']
```

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

const movementsDescriptions = movements.map((movement, index, array) => `Movement ${index + 1}: You ${movement > 0 ? 'deposited' : 'withdrew'} ${Math.abs(movement)}`);

console.log(movementsDescriptions);

// result: [ 'Movement 1: You deposited 200', 'Movement 2: You deposited 450', 'Movement 3: You withdrew 400', 'Movement 4: You deposited 3000', 'Movement 5: You withdrew 650', 'Movement 6: You withdrew 130', 'Movement 7: You deposited 70']
```

## [Computing Usernames](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648733#overview)

```js {82-86,88} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');

const displayMovements = function(movements) {
  // cleaning the container movements '<div class="movements"></div>'
  containerMovements.innerHTML = '';

  movements.forEach(function(movement, index) {
    const type = movement > 0 ? 'deposit' : 'withdrawal';

    const html = `
      <div class="movements__row">
        <div class="movements__type movements__type--${type}">${index + 1} ${type}</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">${movement} </div>
      </div>
    `;

    // rendering the content in the container movements '<div class="movements"></div>'
    containerMovements.insertAdjacentHTML('afterbegin', html);
  })
};

displayMovements(account1.movements);

const createUsernames = function(accounts) {
  accounts.forEach(function(account) {
    account.username = account.owner.toLowerCase().split(' ').map(name => name[0]).join('');
  })
};

createUsernames(accounts);
```

## [The filter Method](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648737#overview)

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

const deposits = movements.filter(function(movement, index, array ) {
  return movement > 0;
});

console.log(deposits); // result: [200, 450, 3000, 70, 1300]
```

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

const deposits = movements.filter(movement => movement > 0);

console.log(deposits); // result: [200, 450, 3000, 70, 1300]
```

## [The reduce Method](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648743#overview)

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

const balance = movements.reduce(function(accumulator, current, index, array) {
  return accumulator + current;
}, 0);

console.log(balance); // result: 3840
```

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

const balance = movements.reduce((acc, movement) => acc + movement, 0);

console.log(balance); // result: 3840
```

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

const maxMovement = movements.reduce((accumulator, movement) => {
  if (accumulator > movement) {
    return accumulator;
  } else {
    return movement;
  }
}, movements[0]);

console.log(maxMovement); // result: 1300
```

```js {82-86,88} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');

const displayMovements = function(movements) {
  // cleaning the container movements '<div class="movements"></div>'
  containerMovements.innerHTML = '';

  movements.forEach(function(movement, index) {
    const type = movement > 0 ? 'deposit' : 'withdrawal';

    const html = `
      <div class="movements__row">
        <div class="movements__type movements__type--${type}">${index + 1} ${type}</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">${movement} </div>
      </div>
    `;

    // rendering the content in the container movements '<div class="movements"></div>'
    containerMovements.insertAdjacentHTML('afterbegin', html);
  })
};

displayMovements(account1.movements);

const calcDisplayBalance = function(movements) {
  const balance = movements.reduce((acc, movement) => acc + movement, 0);

  labelBalance.textContent = `${balance} EUR`;
};

calcDisplayBalance(account1.movements);

const createUsernames = function(accounts) {
  accounts.forEach(function(account) {
    account.username = account.owner.toLowerCase().split(' ').map(name => name[0]).join('');
  })
};

createUsernames(accounts);
```

## [Coding Challenge #2](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648747#overview)

```js title="code-challenge-02.js"
// Let's go back to Julia and Kate's study about dogs. This time, they want to convert dog ages to human ages and calculate the average age of the dogs in their study.
// Create a function 'calcAverageHumanAge', which accepts an arrays of dog's ages ('ages'), and does the following things in order:

// 1. Calculate the dog age in human years using the following formula: if the dog is <= 2 years old, humanAge = 2 * dogAge. If the dog is > 2 years old, humanAge = 16 + dogAge * 4.
// 2. Exclude all dogs that are less than 18 human years old (which is the same as keeping dogs that are at least 18 years old)
// 3. Calculate the average human age of all adult dogs (you should already know from other challenges how we calculate averages)
// 4. Run the function for both test datasets

// Test data:
// - Data 1: [5, 2, 4, 1, 15, 8, 3]
// - Data 2: [16, 6, 10, 5, 6, 1, 4]

const calcAverageHumanAge = function (ages) {
  // 1.
  const humanAges = ages.map(age => (age <= 2 ? 2 * age : 16 + age * 4));

  // 2.
  const adults = humanAges.filter(age => age >= 18);

  // 3.
  // const average = adults.reduce((acc, age) => acc + age, 0) / adults.length;
  const average = adults.reduce((acc, age, index, array) => acc + age / array.length, 0);

  return average;
};

// 4.
const average1 = calcAverageHumanAge([5, 2, 4, 1, 15, 8, 3]);
const average2 = calcAverageHumanAge([16, 6, 10, 5, 6, 1, 4]);
```

## [The Magic of Chaining Methods](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648751#overview)

- Chaining can lead to performance issues when the arrays are too big.
- It's not a good practice to  chain methods that mutates the original array, such as **splice** and **reverse**.

```js {82-86,88} title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];
const eurToUsd = 2;

const totalDepositsUSD = movements
  .filter(movement => movement > 0)
  .map(movement => movement * eurToUsd)
  .reduce((acc, movement) => acc + movement, 0);

console.log(totalDepositsUSD); // result: 10040
```

```js {82-86,88} title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];
const eurToUsd = 2;

const totalDepositsUSD = movements
  .filter(movement => movement > 0)
  .map((movement, index, array) => {
    console.log(array); // to check the array
    return movement * eurToUsd;
  })
  .reduce((acc, movement) => acc + movement, 0);

console.log(totalDepositsUSD);
```

```js {90-106,108} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');

const displayMovements = function(movements) {
  // cleaning the container movements '<div class="movements"></div>'
  containerMovements.innerHTML = '';

  movements.forEach(function(movement, index) {
    const type = movement > 0 ? 'deposit' : 'withdrawal';

    const html = `
      <div class="movements__row">
        <div class="movements__type movements__type--${type}">${index + 1} ${type}</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">${movement} </div>
      </div>
    `;

    // rendering the content in the container movements '<div class="movements"></div>'
    containerMovements.insertAdjacentHTML('afterbegin', html);
  })
};

displayMovements(account1.movements);

const calcDisplayBalance = function(movements) {
  const balance = movements.reduce((acc, movement) => acc + movement, 0);

  labelBalance.textContent = `${balance} EUR`;
};

calcDisplayBalance(account1.movements);

const calcDisplaySummary = function(movements) {
  const incomes = movements
    .filter(movement => movement > 0)
    .reduce((acc, movement) => acc + movement, 0);
  const outcomes = movements
    .filter(movement => movement < 0)
    .reduce((acc, movement) => acc + movement, 0);
  const interest = movements
    .filter(movement => movement > 0)
    .map(deposit => deposit * 1.2/100)
    .filter(interest => interest >= 1)
    .reduce((acc, interest) => acc + interest, 0);

  labelSumIn.textContent = `${incomes} EUR`;
  labelSumOut.textContent = `${Math.abs(outcomes)} EUR`;
  labelSumInterest.textContent = `${interest} EUR`;
}

calcDisplaySummary(account1.movements);

const createUsernames = function(accounts) {
  accounts.forEach(function(account) {
    account.username = account.owner.toLowerCase().split(' ').map(name => name[0]).join('');
  })
};

createUsernames(accounts);
```

## [Coding Challenge #3](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648753#overview)

```js title="code-challenge-03.js"
// Rewrite the 'calcAverageHumanAge' function from the previous challenge, but this time as an arrow function, and using chaining!

// Test data:
// - Data 1: [5, 2, 4, 1, 15, 8, 3]
// - Data 12: [16, 6, 10, 5, 6, 1, 4]

const calcAverageHumanAge = ages =>
  ages
    .map(age => (age <= 2 ? 2 * age : 16 + age * 4))
    .filter(age => age >= 18)
    .reduce((acc, age, index, array) => acc + age / array.length, 0);

const average1 = calcAverageHumanAge([5, 2, 4, 1, 15, 8, 3]);
const average2 = calcAverageHumanAge([16, 6, 10, 5, 6, 1, 4]);
```

## [The find Method](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648757#overview)

The find method only returns the first occurrence.

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];
const eurToUsd = 2;

const firstWithdrawal = movements
  .find(movement => movement < 0);

console.log(firstWithdrawal); // result: -400
```

```js title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

const account = accounts.find(account => account.owner === 'Jessica Davis');
console.log(account); // result: account2 object
```

## [Implementing Login](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648761#overview)

```css title="style.css"
* {
  margin: 0;
  padding: 0;
  box-sizing: inherit;
}

html {
  font-size: 62.5%;
  box-sizing: border-box;
}

body {
  font-family: "Poppins", sans-serif;
  color: #444;
  background-color: #f3f3f3;
  height: 100vh;
  padding: 2rem;
}

nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 2rem;
}

.welcome {
  font-size: 1.9rem;
  font-weight: 500;
}

.logo {
  height: 5.25rem;
}

.login {
  display: flex;
}

.login__input {
  border: none;
  padding: 0.5rem 2rem;
  font-size: 1.6rem;
  font-family: inherit;
  text-align: center;
  width: 12rem;
  border-radius: 10rem;
  margin-right: 1rem;
  color: inherit;
  border: 1px solid #fff;
  transition: all 0.3s;
}

.login__input:focus {
  outline: none;
  border: 1px solid #ccc;
}

.login__input::placeholder {
  color: #bbb;
}

.login__btn {
  border: none;
  background: none;
  font-size: 2.2rem;
  color: inherit;
  cursor: pointer;
  transition: all 0.3s;
}

.login__btn:hover,
.login__btn:focus,
.btn--sort:hover,
.btn--sort:focus {
  outline: none;
  color: #777;
}

.app {
  position: relative;
  max-width: 100rem;
  margin: 4rem auto;
  display: grid;
  grid-template-columns: 4fr 3fr;
  grid-template-rows: auto repeat(3, 15rem) auto;
  gap: 2rem;
  opacity: 0;
  transition: all 1s;
}

.balance {
  grid-column: 1 / span 2;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  margin-bottom: 2rem;
}

.balance__label {
  font-size: 2.2rem;
  font-weight: 500;
  margin-bottom: -0.2rem;
}

.balance__date {
  font-size: 1.4rem;
  color: #888;
}

.balance__value {
  font-size: 4.5rem;
  font-weight: 400;
}

.movements {
  grid-row: 2 / span 3;
  background-color: #fff;
  border-radius: 1rem;
  overflow: scroll;
}

.movements__row {
  padding: 2.25rem 4rem;
  display: flex;
  align-items: center;
  border-bottom: 1px solid #eee;
}

.movements__type {
  font-size: 1.1rem;
  text-transform: uppercase;
  font-weight: 500;
  color: #fff;
  padding: 0.1rem 1rem;
  border-radius: 10rem;
  margin-right: 2rem;
}

.movements__date {
  font-size: 1.1rem;
  text-transform: uppercase;
  font-weight: 500;
  color: #666;
}

.movements__type--deposit {
  background-image: linear-gradient(to top left, #39b385, #9be15d);
}

.movements__type--withdrawal {
  background-image: linear-gradient(to top left, #e52a5a, #ff585f);
}

.movements__value {
  font-size: 1.7rem;
  margin-left: auto;
}

.summary {
  grid-row: 5 / 6;
  display: flex;
  align-items: baseline;
  padding: 0 0.3rem;
  margin-top: 1rem;
}

.summary__label {
  font-size: 1.2rem;
  font-weight: 500;
  text-transform: uppercase;
  margin-right: 0.8rem;
}

.summary__value {
  font-size: 2.2rem;
  margin-right: 2.5rem;
}

.summary__value--in,
.summary__value--interest {
  color: #66c873;
}

.summary__value--out {
  color: #f5465d;
}

.btn--sort {
  margin-left: auto;
  border: none;
  background: none;
  font-size: 1.3rem;
  font-weight: 500;
  cursor: pointer;
}

.operation {
  border-radius: 1rem;
  padding: 3rem 4rem;
  color: #333;
}

.operation--transfer {
  background-image: linear-gradient(to top left, #ffb003, #ffcb03);
}

.operation--loan {
  background-image: linear-gradient(to top left, #39b385, #9be15d);
}

.operation--close {
  background-image: linear-gradient(to top left, #e52a5a, #ff585f);
}

h2 {
  margin-bottom: 1.5rem;
  font-size: 1.7rem;
  font-weight: 600;
  color: #333;
}

.form {
  display: grid;
  grid-template-columns: 2.5fr 2.5fr 1fr;
  grid-template-rows: auto auto;
  gap: 0.4rem 1rem;
}

.form.form--loan {
  grid-template-columns: 2.5fr 1fr 2.5fr;
}

.form__label--loan {
  grid-row: 2;
}

.form__input {
  width: 100%;
  border: none;
  background-color: rgba(255, 255, 255, 0.4);
  font-family: inherit;
  font-size: 1.5rem;
  text-align: center;
  color: #333;
  padding: 0.3rem 1rem;
  border-radius: 0.7rem;
  transition: all 0.3s;
}

.form__input:focus {
  outline: none;
  background-color: rgba(255, 255, 255, 0.6);
}

.form__label {
  font-size: 1.3rem;
  text-align: center;
}

.form__btn {
  border: none;
  border-radius: 0.7rem;
  font-size: 1.8rem;
  background-color: #fff;
  cursor: pointer;
  transition: all 0.3s;
}

.form__btn:focus {
  outline: none;
  background-color: rgba(255, 255, 255, 0.8);
}

.logout-timer {
  padding: 0 0.3rem;
  margin-top: 1.9rem;
  text-align: right;
  font-size: 1.25rem;
}

.timer {
  font-weight: 600;
}
```

```js {86,87,90,93,95,112,113,115-139} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');

const displayMovements = function(movements) {
  // cleaning the container movements '<div class="movements"></div>'
  containerMovements.innerHTML = '';

  movements.forEach(function(movement, index) {
    const type = movement > 0 ? 'deposit' : 'withdrawal';

    const html = `
      <div class="movements__row">
        <div class="movements__type movements__type--${type}">${index + 1} ${type}</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">${movement} </div>
      </div>
    `;

    // rendering the content in the container movements '<div class="movements"></div>'
    containerMovements.insertAdjacentHTML('afterbegin', html);
  })
};

const calcDisplayBalance = function(movements) {
  const balance = movements.reduce((acc, movement) => acc + movement, 0);

  labelBalance.textContent = `${balance} EUR`;
};

const calcDisplaySummary = function(account) {
  const incomes = account.movements
    .filter(movement => movement > 0)
    .reduce((acc, movement) => acc + movement, 0);
  const outcomes = account.movements
    .filter(movement => movement < 0)
    .reduce((acc, movement) => acc + movement, 0);
  const interest = account.movements
    .filter(movement => movement > 0)
    .map(deposit => deposit * account.interestRate/100)
    .filter(interest => interest >= 1)
    .reduce((acc, interest) => acc + interest, 0);

  labelSumIn.textContent = `${incomes} EUR`;
  labelSumOut.textContent = `${Math.abs(outcomes)} EUR`;
  labelSumInterest.textContent = `${interest} EUR`;
}

const createUsernames = function(accounts) {
  accounts.forEach(function(account) {
    account.username = account.owner.toLowerCase().split(' ').map(name => name[0]).join('');
  })
};

createUsernames(accounts);

// event handlers
let currentAccount;

btnLogin.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();
  currentAccount = accounts.find(account => account.username === inputLoginUsername.value);

  if (currentAccount?.pin === Number(inputLoginPin.value)) {
    // display ui and welcome message
    labelWelcome.textContent = `Welcome back, ${currentAccount.owner.split(' ')[0]}`;
    containerApp.style.opacity = 100;

    // clear input fields
    inputLoginUsername.value = inputLoginPin.value = '';
    inputLoginPin.blur();

    // display movements
    displayMovements(currentAccount.movements);

    // display balance
    calcDisplayBalance(currentAccount.movements);

    // display summary
    calcDisplaySummary(currentAccount);
  }

});
```

## [Implementing Transfers](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648767#overview)

```js {80-84,112-121,130,141,142,143,144,146-168} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');

const displayMovements = function(movements) {
  // cleaning the container movements '<div class="movements"></div>'
  containerMovements.innerHTML = '';

  movements.forEach(function(movement, index) {
    const type = movement > 0 ? 'deposit' : 'withdrawal';

    const html = `
      <div class="movements__row">
        <div class="movements__type movements__type--${type}">${index + 1} ${type}</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">${movement} </div>
      </div>
    `;

    // rendering the content in the container movements '<div class="movements"></div>'
    containerMovements.insertAdjacentHTML('afterbegin', html);
  })
};

const calcDisplayBalance = function(account) {
  account.balance = account.movements.reduce((acc, movement) => acc + movement, 0);

  labelBalance.textContent = `${account.balance} EUR`;
};

const calcDisplaySummary = function(account) {
  const incomes = account.movements
    .filter(movement => movement > 0)
    .reduce((acc, movement) => acc + movement, 0);
  const outcomes = account.movements
    .filter(movement => movement < 0)
    .reduce((acc, movement) => acc + movement, 0);
  const interest = account.movements
    .filter(movement => movement > 0)
    .map(deposit => deposit * account.interestRate/100)
    .filter(interest => interest >= 1)
    .reduce((acc, interest) => acc + interest, 0);

  labelSumIn.textContent = `${incomes} EUR`;
  labelSumOut.textContent = `${Math.abs(outcomes)} EUR`;
  labelSumInterest.textContent = `${interest} EUR`;
}

const createUsernames = function(accounts) {
  accounts.forEach(function(account) {
    account.username = account.owner.toLowerCase().split(' ').map(name => name[0]).join('');
  })
};

createUsernames(accounts);

const updateUi = function(account) {
  // display movements
  displayMovements(account.movements);

  // display balance
  calcDisplayBalance(account);

  // display summary
  calcDisplaySummary(account);
}

// event handlers
let currentAccount;

btnLogin.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();
  currentAccount = accounts.find(account => account.username === inputLoginUsername.value);
  inputTransferAmount.value = inputTransferTo.value = '';

  if (currentAccount?.pin === Number(inputLoginPin.value)) {
    // display ui and welcome message
    labelWelcome.textContent = `Welcome back, ${currentAccount.owner.split(' ')[0]}`;
    containerApp.style.opacity = 100;

    // clear input fields
    inputLoginUsername.value = inputLoginPin.value = '';
    inputLoginPin.blur();

    // update UI
    updateUi(currentAccount);
  }
});

btnTransfer.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();

  const amount = Number(inputTransferAmount.value);
  const receiverAccount = accounts.find(account => account.username === inputTransferTo.value);

  console.log(amount, receiverAccount);

  if (
    amount > 0 &&
    receiverAccount &&
    currentAccount.balance >= amount &&
    receiverAccount?.username !== currentAccount.username
  ) {
    // doing the transfer
    currentAccount.movements.push(-amount);
    receiverAccount.movements.push(amount);

    // update UI
    updateUi(currentAccount);
  }
});
```

## [The findIndex Method](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648769#overview)

```js {172-191} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');

const displayMovements = function(movements) {
  // cleaning the container movements '<div class="movements"></div>'
  containerMovements.innerHTML = '';

  movements.forEach(function(movement, index) {
    const type = movement > 0 ? 'deposit' : 'withdrawal';

    const html = `
      <div class="movements__row">
        <div class="movements__type movements__type--${type}">${index + 1} ${type}</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">${movement} </div>
      </div>
    `;

    // rendering the content in the container movements '<div class="movements"></div>'
    containerMovements.insertAdjacentHTML('afterbegin', html);
  })
};

const calcDisplayBalance = function(account) {
  account.balance = account.movements.reduce((acc, movement) => acc + movement, 0);

  labelBalance.textContent = `${account.balance} EUR`;
};

const calcDisplaySummary = function(account) {
  const incomes = account.movements
    .filter(movement => movement > 0)
    .reduce((acc, movement) => acc + movement, 0);
  const outcomes = account.movements
    .filter(movement => movement < 0)
    .reduce((acc, movement) => acc + movement, 0);
  const interest = account.movements
    .filter(movement => movement > 0)
    .map(deposit => deposit * account.interestRate/100)
    .filter(interest => interest >= 1)
    .reduce((acc, interest) => acc + interest, 0);

  labelSumIn.textContent = `${incomes} EUR`;
  labelSumOut.textContent = `${Math.abs(outcomes)} EUR`;
  labelSumInterest.textContent = `${interest} EUR`;
}

const createUsernames = function(accounts) {
  accounts.forEach(function(account) {
    account.username = account.owner.toLowerCase().split(' ').map(name => name[0]).join('');
  })
};

createUsernames(accounts);

const updateUi = function(account) {
  // display movements
  displayMovements(account.movements);

  // display balance
  calcDisplayBalance(account);

  // display summary
  calcDisplaySummary(account);
}

// event handlers
let currentAccount;

btnLogin.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();

  currentAccount = accounts.find(account => account.username === inputLoginUsername.value);

  inputTransferAmount.value = inputTransferTo.value = '';

  if (currentAccount?.pin === Number(inputLoginPin.value)) {
    // display ui and welcome message
    labelWelcome.textContent = `Welcome back, ${currentAccount.owner.split(' ')[0]}`;
    containerApp.style.opacity = 100;

    // clear input fields
    inputLoginUsername.value = inputLoginPin.value = '';
    inputLoginPin.blur();

    // update UI
    updateUi(currentAccount);
  }
});

btnTransfer.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();

  const amount = Number(inputTransferAmount.value);
  const receiverAccount = accounts.find(account => account.username === inputTransferTo.value);

  console.log(amount, receiverAccount);

  if (
    amount > 0 &&
    receiverAccount &&
    currentAccount.balance >= amount &&
    receiverAccount?.username !== currentAccount.username
  ) {
    // doing the transfer
    currentAccount.movements.push(-amount);
    receiverAccount.movements.push(amount);

    // update UI
    updateUi(currentAccount);
  }
});

btnClose.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();

  if(
    inputCloseUsername.value === currentAccount.username &&
    Number(inputClosePin.value) === currentAccount.pin
  ) {
    const index = accounts.findIndex(account => account.username === currentAccount.username);

    // delete account
    // no need to save the array since the splice mutates the array
    accounts.splice(index, 1);

    // hide UI
    containerApp.style.opacity = 0;
  }

  inputCloseUsername.value = inputClosePin.value = '';
});
```

## [some and every](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648771#overview)

**some**

The some method tests for condition.

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

console.log(movements.some(movement => movement > 0)); // result: true
```

**every**

The every method tests for condition and it returns true only if all values meet the condition.

```js title="script.js"
'use strict';

const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];

console.log(movements.every(movement => movement > 0)); // result: false
```

```js {172-187} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');

const displayMovements = function(movements) {
  // cleaning the container movements '<div class="movements"></div>'
  containerMovements.innerHTML = '';

  movements.forEach(function(movement, index) {
    const type = movement > 0 ? 'deposit' : 'withdrawal';

    const html = `
      <div class="movements__row">
        <div class="movements__type movements__type--${type}">${index + 1} ${type}</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">${movement} </div>
      </div>
    `;

    // rendering the content in the container movements '<div class="movements"></div>'
    containerMovements.insertAdjacentHTML('afterbegin', html);
  })
};

const calcDisplayBalance = function(account) {
  account.balance = account.movements.reduce((acc, movement) => acc + movement, 0);

  labelBalance.textContent = `${account.balance} EUR`;
};

const calcDisplaySummary = function(account) {
  const incomes = account.movements
    .filter(movement => movement > 0)
    .reduce((acc, movement) => acc + movement, 0);
  const outcomes = account.movements
    .filter(movement => movement < 0)
    .reduce((acc, movement) => acc + movement, 0);
  const interest = account.movements
    .filter(movement => movement > 0)
    .map(deposit => deposit * account.interestRate/100)
    .filter(interest => interest >= 1)
    .reduce((acc, interest) => acc + interest, 0);

  labelSumIn.textContent = `${incomes} EUR`;
  labelSumOut.textContent = `${Math.abs(outcomes)} EUR`;
  labelSumInterest.textContent = `${interest} EUR`;
}

const createUsernames = function(accounts) {
  accounts.forEach(function(account) {
    account.username = account.owner.toLowerCase().split(' ').map(name => name[0]).join('');
  })
};

createUsernames(accounts);

const updateUi = function(account) {
  // display movements
  displayMovements(account.movements);

  // display balance
  calcDisplayBalance(account);

  // display summary
  calcDisplaySummary(account);
}

// event handlers
let currentAccount;

btnLogin.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();

  currentAccount = accounts.find(account => account.username === inputLoginUsername.value);

  inputTransferAmount.value = inputTransferTo.value = '';

  if (currentAccount?.pin === Number(inputLoginPin.value)) {
    // display ui and welcome message
    labelWelcome.textContent = `Welcome back, ${currentAccount.owner.split(' ')[0]}`;
    containerApp.style.opacity = 100;

    // clear input fields
    inputLoginUsername.value = inputLoginPin.value = '';
    inputLoginPin.blur();

    // update UI
    updateUi(currentAccount);
  }
});

btnTransfer.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();

  const amount = Number(inputTransferAmount.value);
  const receiverAccount = accounts.find(account => account.username === inputTransferTo.value);

  console.log(amount, receiverAccount);

  if (
    amount > 0 &&
    receiverAccount &&
    currentAccount.balance >= amount &&
    receiverAccount?.username !== currentAccount.username
  ) {
    // doing the transfer
    currentAccount.movements.push(-amount);
    receiverAccount.movements.push(amount);

    // update UI
    updateUi(currentAccount);
  }
});

btnLoan.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();

  const amount = Number(inputLoanAmount.value);

  if(amount > 0 && currentAccount.movements.some(movement => movement >= amount * 0.1)) {
    // add movement
    currentAccount.movements.push(amount);

    // update UI
    updateUi(currentAccount);
  }

  inputLoanAmount.value = '';
});

btnClose.addEventListener('click', function(event) {
  // preventing form to submitting
  event.preventDefault();

  if(
    inputCloseUsername.value === currentAccount.username &&
    Number(inputClosePin.value) === currentAccount.pin
  ) {
    const index = accounts.findIndex(account => account.username === currentAccount.username);

    // delete account
    // no need to save the array since the splice mutates the array
    accounts.splice(index, 1);

    // hide UI
    containerApp.style.opacity = 0;
  }

  inputCloseUsername.value = inputClosePin.value = '';
});
```

## [flat and flatMap](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648771#overview)

**flat**

```js title="script.js"
'use strict';

const array = [[1, 2, 3], [4, 5, 6], 7, 8];

console.log(array.flat()); // result: [1, 2, 3, 4, 5, 6, 7, 8];
```

```js title="script.js"
'use strict';

const arrayDeep = [[[1, 2], 3], [4, [5, 6]], 7, 8];

// there is possible to specify the level of nesting as an argument
console.log(array.flat(2)); // result: [1, 2, 3, 4, 5, 6, 7, 8];
```

```js {172-187} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

const overallBalance = accounts
  .map(account => accounts.movements)
  .flat()
  .reduce((acc, movement) => acc + movement, 0);

console.log(overallBalance); // result: 17840
```

**flatMap**

The method flatMap combines a map and a flat method but only flattens one level deep.

```js {172-187} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

const overallBalance = accounts
  .flatMap(account => accounts.movements)
  .reduce((acc, movement) => acc + movement, 0);

console.log(overallBalance); // result: 17840
```

## [Sorting Arrays](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648779#overview)

**Strings**

```js title="script.js"
'use strict';

const owners = ['Jonas', 'Zach', 'Adam', 'Martha'];
console.log(owners.sort()); // result: ['Adam', 'Jonas', 'Martha', 'Zach']

// mutates the original array
console.log(owners); // result: ['Adam', 'Jonas', 'Martha', 'Zach']
```

**Numbers - Ascending**

```js title="script.js"
'use strict';

// not in order because the sort method do the sorting based on strings
const movements = [200, 450, -400, 3000, -650, -130, 70, 1300];
console.log(movements.sort()); // result: [-130, -400, -650, 1300, 200, 3000, 450, 70]

// to fix it
// return < 0 = A, B
// return > 0 = B, A

// ascending
// movements.sort((a, b) => {
//   if (a > b) return 1;
//   if (b > a) return -1;
// });
movements.sort((a, b) => a - b); // result: [-650, -400, -130, 70, 200, 450, 1300, 3000]
console.log(movements); // result: [-650, -400, -130, 70, 200, 450, 1300, 3000]

// descending
// movements.sort((a, b) => {
//   if (a > b) return -1;
//   if (b > a) return 1;
// });
movements.sort((a, b) => b - a); // result: [3000, 1300, 450, 200, 70, -130, -400, -650]
console.log(movements); // result: [3000, 1300, 450, 200, 70, -130, -400, -650]
```

```js {60,64,65,67,233,234-238} title="script.js"
'use strict';

// data
const account1 = {
  owner: 'Jonas Schmedtmann',
  movements: [200, 450, -400, 3000, -650, -130, 70, 1300],
  interestRate: 1.2,
  pin: 1111,
};

const account2 = {
  owner: 'Jessica Davis',
  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],
  interestRate: 1.5,
  pin: 2222,
};

const account3 = {
  owner: 'Steven Thomas Williams',
  movements: [200, -200, 340, -300, -20, 50, 400, -460],
  interestRate: 0.7,
  pin: 3333,
};

const account4 = {
  owner: 'Sarah Smith',
  movements: [430, 1000, 700, 50, 90],
  interestRate: 1,
  pin: 4444,
};

const accounts = [account1, account2, account3, account4];

// elements
const labelWelcome = document.querySelector('.welcome');
const labelDate = document.querySelector('.date');
const labelBalance = document.querySelector('.balance__value');
const labelSumIn = document.querySelector('.summary__value--in');
const labelSumOut = document.querySelector('.summary__value--out');
const labelSumInterest = document.querySelector('.summary__value--interest');
const labelTimer = document.querySelector('.timer');

const containerApp = document.querySelector('.app');
const containerMovements = document.querySelector('.movements');

const btnLogin = document.querySelector('.login__btn');
const btnTransfer = document.querySelector('.form__btn--transfer');
const btnLoan = document.querySelector('.form__btn--loan');
const btnClose = document.querySelector('.form__btn--close');
const btnSort = document.querySelector('.btn--sort');

const inputLoginUsername = document.querySelector('.login__input--user');
const inputLoginPin = document.querySelector('.login__input--pin');
const inputTransferTo = document.querySelector('.form__input--to');
const inputTransferAmount = document.querySelector('.form__input--amount');
const inputLoanAmount = document.querySelector('.form__input--loan-amount');
const inputCloseUsername = document.querySelector('.form__input--user');
const inputClosePin = document.querySelector('.form__input--pin');

const displayMovements = function (movements, sort = false) {
  // cleaning the container movements '<div class="movements"></div>'
  containerMovements.innerHTML = '';

  // slice() does a copy of the movements array so the sort() doesn't change the original array
  const movs = sort ? movements.slice().sort((a, b) => a - b) : movements;

  movs.forEach(function (movement, index) {
    const type = movement > 0 ? 'deposit' : 'withdrawal';

    const html = `
      <div class="movements__row">
        <div class="movements__type movements__type--${type}">${
      index + 1
    } ${type}</div>
        <div class="movements__date">3 days ago</div>
        <div class="movements__value">${movement} </div>
      </div>
    `;

    // rendering the content in the container movements '<div class="movements"></div>'
    containerMovements.insertAdjacentHTML('afterbegin', html);
  });
};

const calcDisplayBalance = function (account) {
  account.balance = account.movements.reduce(
    (acc, movement) => acc + movement,
    0
  );

  labelBalance.textContent = `${account.balance} EUR`;
};

const calcDisplaySummary = function (account) {
  const incomes = account.movements
    .filter(movement => movement > 0)
    .reduce((acc, movement) => acc + movement, 0);
  const outcomes = account.movements
    .filter(movement => movement < 0)
    .reduce((acc, movement) => acc + movement, 0);
  const interest = account.movements
    .filter(movement => movement > 0)
    .map(deposit => (deposit * account.interestRate) / 100)
    .filter(interest => interest >= 1)
    .reduce((acc, interest) => acc + interest, 0);

  labelSumIn.textContent = `${incomes} EUR`;
  labelSumOut.textContent = `${Math.abs(outcomes)} EUR`;
  labelSumInterest.textContent = `${interest} EUR`;
};

const createUsernames = function (accounts) {
  accounts.forEach(function (account) {
    account.username = account.owner
      .toLowerCase()
      .split(' ')
      .map(name => name[0])
      .join('');
  });
};

createUsernames(accounts);

const updateUi = function (account) {
  // display movements
  displayMovements(account.movements);

  // display balance
  calcDisplayBalance(account);

  // display summary
  calcDisplaySummary(account);
};

// event handlers
let currentAccount;

btnLogin.addEventListener('click', function (event) {
  // preventing form to submitting
  event.preventDefault();

  currentAccount = accounts.find(
    account => account.username === inputLoginUsername.value
  );

  inputTransferAmount.value = inputTransferTo.value = '';

  if (currentAccount?.pin === Number(inputLoginPin.value)) {
    // display ui and welcome message
    labelWelcome.textContent = `Welcome back, ${
      currentAccount.owner.split(' ')[0]
    }`;
    containerApp.style.opacity = 100;

    // clear input fields
    inputLoginUsername.value = inputLoginPin.value = '';
    inputLoginPin.blur();

    // update UI
    updateUi(currentAccount);
  }
});

btnTransfer.addEventListener('click', function (event) {
  // preventing form to submitting
  event.preventDefault();

  const amount = Number(inputTransferAmount.value);
  const receiverAccount = accounts.find(
    account => account.username === inputTransferTo.value
  );

  console.log(amount, receiverAccount);

  if (
    amount > 0 &&
    receiverAccount &&
    currentAccount.balance >= amount &&
    receiverAccount?.username !== currentAccount.username
  ) {
    // doing the transfer
    currentAccount.movements.push(-amount);
    receiverAccount.movements.push(amount);

    // update UI
    updateUi(currentAccount);
  }
});

btnLoan.addEventListener('click', function (event) {
  // preventing form to submitting
  event.preventDefault();

  const amount = Number(inputLoanAmount.value);

  if (
    amount > 0 &&
    currentAccount.movements.some(movement => movement >= amount * 0.1)
  ) {
    // add movement
    currentAccount.movements.push(amount);

    // update UI
    updateUi(currentAccount);
  }

  inputLoanAmount.value = '';
});

btnClose.addEventListener('click', function (event) {
  // preventing form to submitting
  event.preventDefault();

  if (
    inputCloseUsername.value === currentAccount.username &&
    Number(inputClosePin.value) === currentAccount.pin
  ) {
    const index = accounts.findIndex(
      account => account.username === currentAccount.username
    );

    // delete account
    // no need to save the array since the splice mutates the array
    accounts.splice(index, 1);

    // hide UI
    containerApp.style.opacity = 0;
  }

  inputCloseUsername.value = inputClosePin.value = '';
});

let sorted = false;
btnSort.addEventListener('click', function (e) {
  e.preventDefault();
  displayMovements(currentAccount.movements, !sorted);
  sorted = !sorted;
});
```

## [More Ways of Creating and Filling Arrays](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648783#overview)

**creating arrays**

```js title="script.js"
'use strict';

// ways of creating arrays
console.log([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
console.log(new Array(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)); // array constructor function
```

```js title="script.js"
// when there is only one argument
const x = new Array(7);
console.log(x); // result: [empty × 7]
console.log(x.map(() => 5)); // result: [empty × 7]
```

**filling arrays**

```js title="script.js"
// mutates the original array
const x = new Array(7);
x.fill(1);
console.log(x); // result: [1, 1, 1, 1, 1, 1, 1]
```

```js title="script.js"
const x = new Array(7);
x.fill(1, 3, 5);
console.log(x); // result: [empty × 3, 1, 1, empty × 2]
```

```js title="script.js"
'use strict';

const array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

array.fill(23, 2, 6);
console.log(array); // result: [1, 2, 23, 23, 23, 23, 7]
```

**creating arrays programmatically**

```js title="script.js"
'use strict';

const y = Array.from({ length: 7 }, () => 1);
console.log(y); // result: [1, 1, 1, 1, 1, 1, 1]

const z = Array.from({ length: 7 }, (cur, i) => i + 1);
console.log(z); // result: [1, 2, 3, 4, 5, 6, 7]
```

```js title="script.js"
'use strict';

const movementsUI = Array.from(document.querySelectorAll('.movements__value'));
console.log(movementsUI); // result: [div.movements__value, div.movements__value]
```

**enabling map() of querySelectorAll**

```js title="script.js"
'use strict';

// const labelBalance = document.querySelector('.balance__value');
labelBalance.addEventListener('click', function () {
  const movementsUI = document.querySelectorAll('.movements__value');
  console.log(movementsUI.map(el => el.textContent.replace('$', ''))); // movementsUI not a map
});
```

```js title="script.js"
// const labelBalance = document.querySelector('.balance__value');

labelBalance.addEventListener('click', function () {
  const movementsUI = Array.from(
    document.querySelectorAll('.movements__value'),
    el => Number(el.textContent.replace('$', ''))
  );
  console.log(movementsUI); // result: [1300, 70, -130, -650, 3000, -400, 450, 200]
  // console.log(movementsUI.map(el => el.textContent.replace('$', ''))); // result: ['1300 ', '70 ', '-130 ', '-650 ', '3000 ', '-400 ', '450 ', '200 ']
});
```

## [Summary: Which Array Method to Use?](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22648787#overview)

<img src={useBaseUrl("img/notes/javascript/summary-which-array-method-to-use.png")} alt="Summary: Which Array Method to Use?"/>

## [Array Methods Practice](https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/24606838#overview)
